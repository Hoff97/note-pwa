{"version":3,"sources":["util/types.ts","util/plugin.ts","util/util.ts","components/renderers/Date.tsx","components/renderers/Link.tsx","components/checkbox/checkbox.tsx","components/renderers/ListItem.tsx","components/mdWrap/MarkDownWrap.tsx","util/strs.ts","util/emitter.ts","network/login.service.ts","network/entity.service.ts","network/sync.service.ts","util/note.ts","components/note/Note.tsx","components/note-preview/NotePreview.tsx","components/home/Home.tsx","components/login/Login.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["colors","toNetworkData","data","validate","copy","id","timestamp","fromNetworkData","result","synchronized","dates","Parser","this","tokenizers","prototype","inlineTokenizers","methods","inlineMethods","date","tokenizeDate","splice","indexOf","eat","value","silent","match","exec","startsWith","type","year","parseInt","month","day","children","notInLink","locator","fromIndex","formatNumber","number","formatDate","getFullYear","getMonth","getDate","DateComponent","Date","props","className","content","onClickDay","setDate","sourcePosition","eventToggle","React","isPreviewLink","length","href","Link","cardSize","showGraphic","maxLine","minLine","url","maxCacheAge","proxyUrl","CheckBox","checked","onChange","labels","ev","isNoLabel","child","key","ListItem","undefined","lineIndex","start","line","filter","lists","push","toggleCheckbox","defaultListItem","generateCheckbox","MarkDownWrap","renderParagraph","state","setState","lines","split","replace","setValue","join","before","slice","offset","after","end","format","source","renderers","listItem","link","paragraph","sp","rawSourcePos","plugins","listRegExp","Emitter","subscribers","subscriber","LoginService","token","localStorage","getItem","localStorageKey","loggedInEv","username","password","fetch","urlPrefix","method","headers","body","JSON","stringify","response","json","setItem","emit","loginService","EntityService","name","getToken","map","x","entity","timeOut","promise","ms","Promise","resolve","reject","timeout","setTimeout","then","clearTimeout","catch","noteService","entityService","subscribe","getEntities","entities","parse","loggedIn","fetchEntities","localEntities","getEntitiesLocal","entMap","makeMap","localEntMap","newEnts","localNewEnts","updates","toDelete","localEnt","deleted","localDate","remoteDate","e","ent","localNew","createEntity","localUp","updateEntity","delEntity","deleteEntity","storeEntities","uuidv4","genId","toISOString","created","i","notes","ret","note","favorite","NoteComponent","input","editorRef","latestUpdate","updateTimeout","commands","getDefaultCommands","icon","_getIconFromProvider","faEyeDropper","color","getIconFromProvider","style","faCircle","execute","api","setColor","markdown","tab","editTitle","loaded","updating","noteId","params","getEntity","window","location","search","paramTab","URLSearchParams","get","document","getElementsByClassName","addEventListener","handleKeyPress","bind","handleEnter","preventDefault","handleTab","position","target","selectionStart","currLine","str","currentLine","lineStart","shiftKey","newVal","selectionEnd","prevLine","previousLine","currentTime","valueOf","diff","v","nativeEvent","toggleEdit","history","stopPropagation","goBack","Array","isArray","current","textArea","textAreaRef","dispatchEvent","KeyboardEvent","bubbles","text","preview","onClick","insertDate","title","val","setName","onKeyUp","editKeyUp","autoFocus","faPen","faSpinner","faArrowLeft","maxHeight","innerHeight","minHeight","Math","min","max","render","selectedTab","onTabChange","setTab","generateMarkdownPreview","classes","suggestionTriggerCharacters","loadSuggestions","ref","minEditorHeight","maxEditorHeight","NotePreview","editClicked","deleteClicked","favoriteClicked","faStar","faStarOutline","delete","faTrash","edit","faEdit","Component","Home","context","choosing","console","log","logout","filteredNotes","sort","a","b","newNote","faPlus","faCheckSquare","size","faSignOutAlt","login","faUser","toNote","deleteNote","favoriteNote","Login","register","email","pw","error","onSubmit","placeholder","App","basename","process","path","component","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","StrictMode","getElementById","URL","origin","contentType","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.de82eb84.chunk.js","sourcesContent":["export type Color = 'white' | 'red' | 'green' | 'blue' | 'orange';\n\nexport const colors: Color[] = ['white', 'red', 'green', 'blue', 'orange'];\n\nexport interface HasId {\n    id: string;\n}\n\nexport interface HasTimestamp {\n    timestamp: string;\n}\n\nexport interface HasIdTimestamp extends HasId, HasTimestamp {\n    synchronized: boolean;\n    deleted?: boolean;\n}\n\nexport interface Note extends HasIdTimestamp {\n    name: string;\n    markdown: string;\n    color: Color;\n    favorite: boolean;\n}\n\nexport type NoteType = 'empty' | 'checklist';\n\nexport type WithoutIdTimestamp<T> = Omit<Omit<Omit<T, 'id'>, 'timestamp'>, 'synchronized'>;\n\nexport interface NetworkData<T extends HasIdTimestamp> {\n    id: string;\n    timestamp: string;\n    data: WithoutIdTimestamp<T>;\n}\n\nexport function toNetworkData<T extends HasIdTimestamp>(data: T, validate: ((entity: T) => T) | undefined): NetworkData<T> {\n    let copy = {\n        ...data\n    };\n    delete copy.id;\n    delete copy.timestamp;\n\n    if (validate) {\n        copy = validate(copy);\n    }\n\n    return {\n        id: data.id,\n        timestamp: data.timestamp,\n        data: copy\n    };\n}\n\nexport function fromNetworkData<T extends HasIdTimestamp>(data: NetworkData<T>, validate: ((entity: T) => T) | undefined): T {\n    let result = {\n        id: data.id,\n        timestamp: data.timestamp,\n        synchronized: true,\n        ...data.data\n    } as any;\n    if (validate) {\n        result = validate(result);\n    }\n    return result;\n}\n\nexport interface NetworkNote extends NetworkData<Note> {\n\n};\n\nexport type NewNote = WithoutIdTimestamp<Note>;","export function dates() {\n    // @ts-ignore\n    var Parser = this.Parser\n    var tokenizers = Parser.prototype.inlineTokenizers\n    var methods = Parser.prototype.inlineMethods\n\n    // Add an inline tokenizer (defined in the following example).\n    tokenizers.date = tokenizeDate\n\n    // Run it just before `text`.\n    methods.splice(methods.indexOf('text'), 0, 'date')\n}\n\ntokenizeDate.notInLink = true\ntokenizeDate.locator = locateDate\n\nfunction tokenizeDate(eat: any, value: string, silent: boolean) {\n    const match = /@date\\(([0-9]{4}),([0-9]{2}),([0-9]{2})\\)/.exec(value);\n\n\n    if (match && value.startsWith(match[0])) {\n        if (silent) {\n            return true;\n        }\n\n        return eat(match[0])({\n            type: 'date',\n            year: parseInt(match[1]),\n            month: parseInt(match[2]) - 1,\n            day: parseInt(match[3]),\n            children: []\n        });\n    }\n}\n\nfunction locateDate(value: string, fromIndex: number) {\n    return value.indexOf('@', fromIndex);\n}","export function formatNumber(number: number) {\n    if (number < 10) {\n        return `0${number}`;\n    }\n    return number;\n}\n\nexport function formatDate(date: Date) {\n    return `@date(${date.getFullYear()},${formatNumber(date.getMonth() + 1)},${formatNumber(date.getDate())})`;\n}","import * as React from 'react';\n\nimport Tooltip from 'react-tooltip-lite';\n\nimport Calendar from 'react-calendar';\n\nimport './date.css';\nimport { formatNumber } from '../../util/util';\n\nimport 'react-calendar/dist/Calendar.css';\n\nexport class DateComponent extends React.Component<any, {}> {\n    render() {\n        const date = new Date(this.props.year, this.props.month, this.props.day);\n\n        return (\n            <span className=\"date\">\n                <Tooltip\n                        content={\n                            <Calendar\n                                value={date}\n                                onClickDay={date => this.props.setDate(date, this.props.sourcePosition)}/>\n                        }\n                        eventToggle=\"onClick\">\n                    <span>{formatNumber(this.props.day)}.{formatNumber(this.props.month + 1)}.{this.props.year}</span>\n                </Tooltip>\n            </span>\n        );\n    }\n}","import * as React from 'react';\n\nimport './link.css';\n\nimport { ReactTinyLink } from 'react-tiny-link';\n\nexport function isPreviewLink(props: any) {\n    return props.children.length === 0 ||\n        (props.children.length === 1 && props.children[0].props.children === props.href);\n}\n\nconst proxyUrl = 'https://detext.haskai.de/cors';\n\nconst maxCacheAge = 24*60*60*1000;\n\nexport function Link(props: any) {\n    if (isPreviewLink(props)) {\n        return (\n            <div className=\"react-tiny-link-wrap\">\n                <ReactTinyLink\n                    cardSize=\"small\"\n                    showGraphic={true}\n                    maxLine={2}\n                    minLine={1}\n                    url={props.href}\n                    maxCacheAge={maxCacheAge}\n                    proxyUrl={proxyUrl}\n                    />\n            </div>\n        );\n    } else {\n        return (\n            <a href={props.href}>\n                {props.children}\n            </a>\n        );\n    }\n}","import * as React from 'react';\n\nimport './style.css';\n\ninterface CheckboxProps {\n    checked: boolean;\n    onChange: (change: React.ChangeEvent<HTMLInputElement>) => void;\n    labels: JSX.Element[];\n}\n\nexport function CheckBox({ checked, onChange, labels }: CheckboxProps) {\n    return (\n        <label className=\"checkbox-container\">{labels}\n            <input type=\"checkbox\" checked={checked}\n                onChange={ev => onChange(ev)}/>\n            <span className=\"checkbox-checkmark\"></span>\n        </label>\n    );\n}","import * as React from 'react';\n\nimport { isPreviewLink } from \"./Link\";\n\nimport {listItem as defaultListItem} from 'react-markdown/lib/renderers';\nimport { CheckBox } from '../checkbox/checkbox';\n\nfunction isNoLabel(child: any) {\n    return child.key.startsWith('list') || (child.key.startsWith('link') && isPreviewLink(child.props));\n}\n\nexport function ListItem(props: any) {\n    if (props.checked !== null && props.checked !== undefined) {\n        const lineIndex = props.sourcePosition.start.line - 1;\n        let labels = props.children.filter((child: any) => !isNoLabel(child));\n        let lists = props.children.filter((child: any) => isNoLabel(child));\n\n        if (labels.length === 0) {\n            labels.push((\n                <span key={`placeholder-${props.sourcePosition.start.line}`}>\n                    &nbsp;\n                </span>\n            ));\n        }\n\n        return (\n            <li>\n                <CheckBox\n                    checked={props.checked}\n                    onChange={ev => props.toggleCheckbox(ev, lineIndex, props)}\n                    labels={labels}/>\n                {lists}\n            </li>\n        );\n    }\n    return defaultListItem(props);\n  }","import * as React from 'react';\n\nimport ReactMarkdown from 'react-markdown';\n\nimport './style.css';\nimport { dates } from '../../util/plugin';\n\nimport 'react-calendar/dist/Calendar.css';\n\nimport { DateComponent } from '../renderers/Date';\nimport { formatDate } from '../../util/util';\nimport { Link } from '../renderers/Link';\nimport { ListItem } from '../renderers/ListItem';\n\ninterface MDState {\n    value: string;\n}\n\ninterface MDProps {\n    value: string;\n    onChange: (value: string) => void;\n}\n\nfunction generateCheckbox(checked: boolean) {\n    return checked ? '- [x]' : '- [ ]';\n}\n\ntype ChangeInput = React.ChangeEvent<HTMLInputElement>;\n\nexport class MarkDownWrap extends React.Component<MDProps, MDState> {\n    renderParagraph = (props: any) => {\n        return (\n            <>\n                {props.children}<br/>\n            </>\n        );\n    }\n\n    constructor(props: any) {\n        super(props);\n\n        this.state = {\n            value: props.value\n        };\n    }\n\n    setValue(value: string) {\n        this.setState({\n            value\n        });\n\n        this.props.onChange(value);\n    }\n\n    toggleCheckbox(ev: ChangeInput, lineIndex: number, props: any) {\n        const lines = this.state.value.split('\\n');\n\n        lines[lineIndex] = lines[lineIndex].replace(\n            generateCheckbox(props.checked),\n            generateCheckbox(!props.checked)\n        );\n        this.setValue(lines.join('\\n'));\n    }\n\n    setDate(date: Date, sourcePosition: any) {\n        const before = this.state.value.slice(0, sourcePosition.start.offset);\n        const after = this.state.value.slice(sourcePosition.end.offset)\n        const format = formatDate(date);\n\n        this.setValue(before + format + after);\n    }\n\n    render() {\n        return (\n            <ReactMarkdown source={this.state.value}\n                renderers={{\n                    listItem: props => {\n                        return (\n                            <ListItem\n                                toggleCheckbox={(ev: ChangeInput, lineIndex: number, props: any) => this.toggleCheckbox(ev, lineIndex, props)}\n                                {...props}/>\n                        );\n                    },\n                    link: Link,\n                    paragraph: this.renderParagraph,\n                    date: props => {\n                        return (\n                            <DateComponent\n                                setDate={(date: Date, sp: any) => this.setDate(date, sp)}\n                                {...props}/>\n                        );\n                    }\n                }}\n                rawSourcePos={true}\n                plugins={[dates]}/>\n        );\n    }\n}","export function previousLine(str: string, position: number): string | undefined {\n    const lines = str.split('\\n');\n    let i = 0;\n    while(position > lines[i].length) {\n        position -= lines[i].length;\n        position -= 1;\n        i += 1;\n    }\n    if (i > 0) {\n        return lines[i-1];\n    }\n    return undefined;\n}\n\nexport function currentLine(str: string, position: number): string | undefined {\n    const lines = str.split('\\n');\n    let i = 0;\n    while(position > lines[i].length) {\n        position -= lines[i].length;\n        position -= 1;\n        i += 1;\n    }\n    if (i < lines.length) {\n        return lines[i];\n    }\n    return undefined;\n}\n\nexport function lineStart(str: string, position: number): number {\n    const lines = str.split('\\n');\n    let i = 0;\n    let start = 0;\n    while(position > lines[i].length) {\n        position -= lines[i].length;\n        position -= 1;\n        start += lines[i].length + 1;\n        i += 1;\n    }\n    return start;\n}\n\nexport const listRegExp = /^([\\s>]*)(([-*]|(([0-9]+)\\.))\\s(\\[[ x]\\])?)?/;","type Subscriber<T> = (value: T) => void;\n\nexport class Emitter<T> {\n    private subscribers: Subscriber<T>[] = [];\n\n    public subscribe(subscriber: Subscriber<T>) {\n        this.subscribers.push(subscriber);\n    }\n\n    public emit(value: T) {\n        for (let subscriber of this.subscribers) {\n            subscriber(value);\n        }\n    }\n}","import { Emitter } from \"../util/emitter\";\nimport { urlPrefix } from \"./entity.service\";\n\nexport class LoginService {\n    static localStorageKey = 'token';\n\n    token: string | null = localStorage.getItem(LoginService.localStorageKey);\n\n    loggedInEv = new Emitter<void>();\n\n    public async login(username: string, password: string) {\n        const response = await fetch(`${urlPrefix}/api-token-auth/`, {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                username, password\n            })\n        });\n\n        const json = await response.json();\n        this.token = json.token;\n        localStorage.setItem(LoginService.localStorageKey, json.token);\n\n        this.loggedInEv.emit();\n\n        return this.token;\n    }\n\n    logout() {\n        this.token = null;\n    }\n\n    public async register(username: string, password: string) {\n        const response = await fetch(`${urlPrefix}/api-token-auth/`, {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                username, password\n            })\n        });\n\n        const json = await response.json();\n        this.token = json.token;\n        localStorage.setItem(LoginService.localStorageKey, json.token);\n\n        this.loggedInEv.emit();\n\n        return this.token;\n    }\n\n    loggedIn(): boolean {\n        return !!this.token;\n    }\n\n    getToken(): string | null {\n        return this.token;\n    }\n}\n\nexport const loginService = new LoginService();","import { toNetworkData, fromNetworkData, HasIdTimestamp } from \"../util/types\";\nimport { loginService } from \"./login.service\";\n\nexport const urlPrefix = 'https://detext.haskai.de/syncify/api';\n\nexport class EntityService<T extends HasIdTimestamp> {\n    constructor(private name: string, public validate?: (entity: T) => T) {\n\n    }\n\n    async fetchEntities(): Promise<T[]> {\n        const response = await fetch(`${urlPrefix}/entity/?tpe=${this.name}`, {\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Token ${loginService.getToken()}`\n            }\n        });\n\n        const json = await response.json();\n        return json.map((x: any) => fromNetworkData(x, this.validate));\n    }\n\n    async createEntity(entity: T): Promise<T> {\n        const response = await fetch(`${urlPrefix}/entity/?tpe=${this.name}`, {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Token ${loginService.getToken()}`\n            },\n            body: JSON.stringify(toNetworkData(entity, this.validate))\n        });\n\n        const json = await response.json();\n        return fromNetworkData(json, this.validate) as any;\n    }\n\n    async updateEntity(entity: T): Promise<T> {\n        const response = await fetch(`${urlPrefix}/entity/${entity.id}/?tpe=${this.name}`, {\n            method: 'PUT',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Token ${loginService.getToken()}`\n            },\n            body: JSON.stringify(toNetworkData(entity, this.validate))\n        });\n\n        const json = await response.json();\n        return fromNetworkData(json, this.validate) as any;\n    }\n\n    async deleteEntity(id: string): Promise<void> {\n        await fetch(`${urlPrefix}/entity/${id}/?tpe=${this.name}`, {\n            method: 'DELETE',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Token ${loginService.getToken()}`\n            }\n        });\n    }\n}","import { HasIdTimestamp, WithoutIdTimestamp } from \"../util/types\";\nimport { EntityService } from \"./entity.service\";\nimport { loginService } from \"./login.service\";\nimport { v4 as uuidv4 } from 'uuid';\n\nexport function timeOut<T>(promise: Promise<T>, ms: number): Promise<T> {\n    return new Promise((resolve, reject) => {\n        const timeout = setTimeout(() => {\n            reject();\n        }, ms);\n\n        promise.then(value => {\n            clearTimeout(timeout);\n            resolve(value);\n        }).catch(reject);\n    })\n}\n\nconst TIMEOUT_MS = 1000;\n\nexport class SyncService<T extends HasIdTimestamp> {\n    constructor(private entityService: EntityService<T>, private name: string){\n        loginService.loggedInEv.subscribe(() => {\n            this.getEntities().then(x => {\n            });\n        });\n    }\n\n    storeEntities(entities: T[]) {\n        localStorage.setItem(this.name, JSON.stringify(entities));\n    }\n\n    getEntitiesLocal(): T[] {\n        let entities = localStorage.getItem(this.name);\n        if (entities === null) {\n            entities = \"[]\";\n        }\n        const result: T[] = JSON.parse(entities);\n        if (this.entityService.validate !== undefined) {\n            const validate = this.entityService.validate;\n            return result.map(x => validate(x));\n        }\n        return result;\n    }\n\n    async getEntities(): Promise<T[]> {\n        if (loginService.loggedIn()) {\n            try {\n                let entities = await this.entityService.fetchEntities();\n\n                const localEntities = this.getEntitiesLocal();\n\n                const entMap = this.makeMap(entities);\n                const localEntMap = this.makeMap(localEntities);\n\n                const newEnts: T[] = [];\n                const localNewEnts: T[] = [];\n                const updates: T[] = [];\n\n                const toDelete: T[] = [];\n\n                for (let localEnt of localEntities) {\n                    if (localEnt.deleted) {\n                        if (entMap[localEnt.id] !== undefined) {\n                            toDelete.push(localEnt);\n                        }\n                    } else if (entMap[localEnt.id] !== undefined) {\n                        const localDate = new Date(localEnt.timestamp);\n                        const remoteDate = new Date(entMap[localEnt.id].timestamp);\n                        if (localDate > remoteDate) {\n                            updates.push(localEnt);\n                        } else {\n                            newEnts.push(entMap[localEnt.id]);\n                        }\n                    } else if (!localEnt.synchronized) {\n                        localNewEnts.push(localEnt);\n                    }\n                }\n\n                for (let ent of entities) {\n                    if (localEntMap[ent.id] === undefined) {\n                        newEnts.push(ent);\n                    }\n                }\n\n                for (let localNew of localNewEnts) {\n                    await this.entityService.createEntity(localNew);\n                }\n                for (let localUp of updates) {\n                    await this.entityService.updateEntity(localUp);\n                }\n                for (let delEntity of toDelete) {\n                    await this.entityService.deleteEntity(delEntity.id);\n                }\n\n                entities = [\n                    ...newEnts,\n                    ...localNewEnts,\n                    ...updates\n                ];\n\n                this.storeEntities(entities);\n                return entities;\n            } catch (e) {\n            }\n        }\n        return this.getEntitiesLocal();\n    }\n\n    genId(): string {\n        return uuidv4();\n    }\n\n    async createEntity(entity: WithoutIdTimestamp<T>): Promise<string> {\n        const copy: T = {\n            id: this.genId(),\n            timestamp: (new Date()).toISOString(),\n            ...entity\n        } as any;\n\n        let created;\n        if (loginService.loggedIn()) {\n            try {\n                created = await timeOut(this.entityService.createEntity(copy),TIMEOUT_MS);\n            } catch (e) {\n                created = copy;\n            }\n        } else {\n            created = copy;\n        }\n\n        const localEntities = this.getEntitiesLocal();\n        localEntities.push(created);\n\n        this.storeEntities(localEntities);\n\n        return created.id;\n    }\n\n    async updateEntity(entity: T) {\n        entity.timestamp = (new Date()).toISOString();\n\n        const entities = this.getEntitiesLocal();\n\n        for (let i = 0; i < entities.length; i++) {\n            // eslint-disable-next-line\n            if (entities[i].id == entity.id) {\n                entities[i] = entity;\n                break;\n            }\n        }\n\n        this.storeEntities(entities);\n\n        if (loginService.loggedIn()) {\n            try {\n                await this.entityService.updateEntity(entity);\n            } catch (e) {\n            }\n        }\n    }\n\n    getEntity(id: string): T | undefined {\n        const entities = this.getEntitiesLocal();\n\n        for (let i = 0; i < entities.length; i++) {\n            // eslint-disable-next-line\n            if (entities[i].id == id) {\n                return entities[i];\n            }\n        }\n\n        return undefined;\n    }\n\n    async deleteEntity(id: string): Promise<T[]> {\n        let notes = this.getEntitiesLocal();\n        for (let i = 0; i < notes.length; i++) {\n            // eslint-disable-next-line\n            if (notes[i].id == id) {\n                notes[i].deleted = true;\n            }\n        }\n        this.storeEntities(notes);\n\n        if (loginService.loggedIn()) {\n            try {\n                await timeOut(this.entityService.deleteEntity(id), TIMEOUT_MS);\n\n                notes = this.getEntitiesLocal();\n                for (let i = 0; i < notes.length; i++) {\n                    // eslint-disable-next-line\n                    if (notes[i].id == id) {\n                        notes.splice(i, 1);\n                        break;\n                    }\n                }\n                this.storeEntities(notes);\n            } catch {\n            }\n        }\n\n        return notes;\n    }\n\n    private makeMap(entities: T[]): {[key: string]: T} {\n        const ret: {[key: string]: T} = {};\n        for (let entity of entities) {\n            ret[entity.id] = entity;\n        }\n        return ret;\n    }\n}","import { EntityService } from \"../network/entity.service\";\nimport { SyncService } from \"../network/sync.service\";\nimport { Note } from \"./types\";\n\nfunction validate(note: Note) {\n    if (note.favorite === undefined) {\n        note.favorite = false;\n    }\n    return note;\n}\n\nconst noteNetworkService = new EntityService<Note>('note', validate);\nexport const noteService = new SyncService<Note>(noteNetworkService, 'note');","import * as React from 'react';\n\nimport ReactMde, { commands, TextState, TextApi } from \"react-mde\";\nimport \"react-mde/lib/styles/css/react-mde-all.css\";\n\nimport { Note, colors, Color } from '../../util/types';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPen, faEyeDropper, faCircle, faSpinner } from '@fortawesome/free-solid-svg-icons'\n\nimport './style.css';\n\nimport { MarkDownWrap } from '../mdWrap/MarkDownWrap';\nimport { previousLine, listRegExp, currentLine, lineStart } from '../../util/strs';\nimport { CommandGroup, GetIcon, Suggestion } from 'react-mde/lib/definitions/types';\nimport { noteService } from '../../util/note';\n\nimport { faArrowLeft } from '@fortawesome/free-solid-svg-icons';\nimport { Route } from 'react-router-dom';\nimport { Tab } from 'react-mde/lib/definitions/types/Tab';\nimport Calendar from 'react-calendar';\nimport 'react-calendar/dist/Calendar.css';\nimport { formatDate } from '../../util/util';\n\ninterface NoteState {\n    note: Note;\n    tab: Tab;\n    editTitle: boolean;\n    loaded: boolean;\n    updating: boolean;\n}\n\nexport function colorClass(color: Color) {\n    return color;\n}\n\nconst minimumTimeBetweenUpdates = 1000;\n\nexport class NoteComponent extends React.Component<{}, NoteState> {\n    input?: HTMLTextAreaElement;\n\n    editorRef: React.RefObject<ReactMde>;\n\n    latestUpdate?: number;\n    updateTimeout?: NodeJS.Timeout;\n\n    commands: CommandGroup[] = [\n        ...commands.getDefaultCommands(),\n        {\n            commands: [\n                {\n                    name: 'Test',\n                    icon: (_getIconFromProvider: GetIcon) => (\n                        <FontAwesomeIcon icon={faEyeDropper}/>\n                    ),\n                    children: colors.map(color => (\n                        {\n                            name: 'C1',\n                            icon: (getIconFromProvider: GetIcon) => (\n                                <span style={{color}}>\n                                    <FontAwesomeIcon icon={faCircle}/>\n                                </span>\n                            ),\n                            execute: (state: TextState, api: TextApi) => {\n                                this.setColor(color);\n                            }\n                        }))\n                }\n            ]\n        }\n    ];\n\n    constructor(props: any) {\n        super(props);\n\n        this.state = {\n            note: {\n                markdown: '',\n                id: '',\n                name: 'Placeholder',\n                color: 'white',\n                timestamp: '',\n                synchronized: false,\n                favorite: false\n            },\n            tab: 'write',\n            editTitle: false,\n            loaded: false,\n            updating: false\n        };\n\n        this.editorRef = React.createRef();\n    }\n\n    componentDidMount() {\n        const noteId = (this.props as any).match.params.noteId;\n\n        const note = noteService.getEntity(noteId);\n\n        let tab: Tab = 'write';\n        if (window.location.search) {\n            const urlParams = new URLSearchParams(window.location.search);\n            const paramTab = urlParams.get('tab');\n            if (paramTab === 'write' || paramTab === 'preview') {\n                tab = paramTab;\n            }\n        }\n\n        if (note) {\n            this.setState({\n                note,\n                tab,\n                loaded: true\n            });\n        }\n    }\n\n    componentDidUpdate() {\n        let input = document.getElementsByClassName('mde-text');\n        if (input.length > 0 && !this.input) {\n            this.input = input[0] as HTMLTextAreaElement;\n\n            this.input.addEventListener('keydown', this.handleKeyPress.bind(this));\n        }\n    }\n\n    handleKeyPress(ev: KeyboardEvent) {\n        if (ev.key === 'Enter') {\n            setTimeout(() => {\n                this.handleEnter(ev);\n            }, 10);\n        } else if (ev.key === 'Tab') {\n            ev.preventDefault();\n            setTimeout(() => {\n                this.handleTab(ev);\n            }, 10);\n        }\n    }\n\n    handleTab(ev: KeyboardEvent) {\n        const position: number = (ev.target as any).selectionStart;\n\n        const note = this.state.note.markdown;\n\n        const currLine = currentLine(note, position);\n        if (currLine) {\n            const match = currLine.match(listRegExp);\n            if (match) {\n                const start = lineStart(note, position);\n                if (ev.shiftKey) {\n                    if (match[1].length >= 4) {\n                        const newVal = [note.slice(0, start), note.slice(start+4)].join('');\n                        this.setValue(newVal);\n                        setTimeout(() => {\n                            (ev.target as any).selectionStart =  position - 4;\n                            (ev.target as any).selectionEnd =  position - 4;\n                        }, 0);\n                    }\n                } else {\n                    const newVal = [note.slice(0, start), '    ', note.slice(start)].join('');\n                    this.setValue(newVal);\n                    setTimeout(() => {\n                        (ev.target as any).selectionStart =  position + 4;\n                        (ev.target as any).selectionEnd =  position + 4;\n                    }, 0);\n                }\n            }\n        }\n    }\n\n    handleEnter(ev: KeyboardEvent) {\n        const position: number = (ev.target as any).selectionStart;\n\n        const note = this.state.note.markdown;\n\n        const prevLine = previousLine(note, position);\n        if (prevLine) {\n            const match = prevLine.match(listRegExp);\n            if (match) {\n                let str = match[1];\n                if (match[5] !== undefined) {\n                    str += `${parseInt(match[5]) + 1}. `\n                } else if (match[3] !== undefined) {\n                    str += `${match[3]} `;\n                }\n                if (match[6]) {\n                    str += `${match[6]} `;\n                }\n                const newVal = [note.slice(0, position), str, note.slice(position)].join('');\n\n                this.setValue(newVal);\n                setTimeout(() => {\n                    (ev.target as any).selectionStart =  position + str.length;\n                    (ev.target as any).selectionEnd =  position + str.length;\n                }, 0);\n            }\n        }\n    }\n\n    setValue(value: string) {\n        this.setState({\n            note: {\n                ...this.state.note,\n                markdown: value\n            }\n        });\n\n        if (this.updateTimeout !== undefined) {\n            clearTimeout(this.updateTimeout);\n            this.updateTimeout = undefined;\n        }\n\n        this.updateTimeout = setTimeout(() => {\n            const currentTime = (new Date()).valueOf();\n            const diff = this.latestUpdate === undefined ? 0 : currentTime - this.latestUpdate;\n\n            if (this.latestUpdate === undefined || diff > minimumTimeBetweenUpdates) {\n                this.setState({updating: true});\n                noteService.updateEntity({\n                    ...this.state.note,\n                    markdown: value\n                }).then(v => {\n                    this.setState({updating: false});\n                });\n                this.latestUpdate = currentTime;\n            }\n            this.updateTimeout = undefined;\n        }, 1000);\n    }\n\n    setTab(tab: Tab) {\n        this.setState({\n            tab\n        });\n    }\n\n    setColor(color: Color) {\n        this.setState({\n            note: {\n                ...this.state.note,\n                color\n            }\n        });\n\n        noteService.updateEntity({\n            ...this.state.note,\n            color\n        });\n    }\n\n    toggleEdit() {\n        this.setState({\n            editTitle: !this.state.editTitle\n        });\n    }\n\n    setName(value: string) {\n        this.setState({\n            note: {\n                ...this.state.note,\n                name: value\n            }\n        });\n\n        noteService.updateEntity({\n            ...this.state.note,\n            name: value\n        });\n    }\n\n    editKeyUp(ev: React.KeyboardEvent) {\n        if (ev.nativeEvent.key === 'Enter') {\n            this.toggleEdit();\n        }\n    }\n\n    goBack(ev: React.MouseEvent, history: any) {\n        ev.stopPropagation();\n        history.goBack();\n    }\n\n    insertDate(date: Date | Date[]) {\n        if (Array.isArray(date)) {\n            date = date[0];\n        }\n\n        if (this.editorRef.current) {\n            const textArea = this.editorRef.current.textAreaRef;\n\n            const end = textArea.selectionStart;\n            let start = end;\n            while (start > 0) {\n                if (this.state.note.markdown[start] === '@') {\n                    break;\n                }\n                start--;\n            }\n            const before = this.state.note.markdown.slice(0, start);\n            const after = this.state.note.markdown.slice(end);\n            const format = formatDate(date) + ' ';\n            this.setValue(before + format + after);\n\n            setTimeout(() => {\n                textArea.selectionStart = before.length + format.length;\n                textArea.selectionEnd = before.length + format.length;\n                textArea.dispatchEvent(new KeyboardEvent('keydown', {\n                    bubbles: true,\n                    key: 'Escape'\n                }));\n            }, 10);\n        }\n    }\n\n    loadSuggestions(text: string): Promise<Suggestion[]> {\n        if (text.length === 0) {\n            return Promise.resolve([\n                {\n                    preview: (\n                        <div onClick={ev => ev.stopPropagation()}>\n                            <Calendar\n                                onChange={date => this.insertDate(date)}/>\n                        </div>\n                    ),\n                    value: '('\n                }\n            ]);\n        }\n        return Promise.resolve([]);\n    }\n\n    render() {\n        if (!this.state.loaded) {\n            return (<></>);\n        }\n\n        let title: any;\n        if (!this.state.editTitle) {\n            title = (history: any) => (\n                <div className=\"note-title\" onClick={() => this.toggleEdit()}>\n                    <button className=\"pure-button\" onClick={ev => this.goBack(ev, history)}>\n                        <FontAwesomeIcon icon={faArrowLeft}/>\n                    </button>\n                    <div className=\"edit-region\">\n                        {this.state.note.name}\n                        <span className=\"edit\">\n                            <FontAwesomeIcon icon={faPen}/>\n                        </span>\n                    </div>\n                    {this.state.updating ? <FontAwesomeIcon icon={faSpinner} className=\"loading-spinner-icon\"/> : <></>}\n                </div>\n            );\n        } else {\n            title = (history: any) => (\n                <div className=\"note-title\">\n                    <input value={this.state.note.name}\n                        onChange={val => this.setName(val.target.value)}\n                        onKeyUp={ev => this.editKeyUp(ev)}\n                        autoFocus={true}\n                        className=\"editName\"/>\n                    <span className=\"edit\">\n                        <FontAwesomeIcon icon={faPen}/>\n                    </span>\n                    {this.state.updating ? <FontAwesomeIcon icon={faSpinner} className=\"loading-spinner-icon\"/> : <></>}\n                </div>\n            )\n        }\n\n        const lines = this.state.note.markdown.split('\\n').length;\n\n        const maxHeight = window.innerHeight - 200;\n        const minHeight = Math.min(maxHeight, Math.max(300, lines*22));\n\n        return (\n            <Route render={({ history }) => (\n                <div>\n                    {title(history)}\n                    <ReactMde\n                        value={this.state.note.markdown}\n                        onChange={ev => this.setValue(ev)}\n                        selectedTab={this.state.tab}\n                        onTabChange={ev => this.setTab(ev)}\n                        generateMarkdownPreview={markdown =>\n                            Promise.resolve(\n                                <MarkDownWrap\n                                    value={markdown}\n                                    onChange={value => this.setValue(value)}/>\n                            )\n                        }\n                        commands={this.commands}\n                        classes={{\n                            textArea: colorClass(this.state.note.color),\n                            preview: colorClass(this.state.note.color)\n                        }}\n                        suggestionTriggerCharacters={['@']}\n                        loadSuggestions={(text: string) => this.loadSuggestions(text)}\n                        ref={this.editorRef}\n                        minEditorHeight={minHeight}\n                        maxEditorHeight={maxHeight}\n                    />\n                </div>\n            )}/>\n        );\n    }\n}","import React from 'react';\n\nimport './style.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrash, faEdit, faStar } from '@fortawesome/free-solid-svg-icons'\nimport { faStar as faStarOutline } from '@fortawesome/free-regular-svg-icons';\nimport { MarkDownWrap } from '../mdWrap/MarkDownWrap';\nimport { colorClass } from '../note/Note';\nimport { Color } from '../../util/types';\n\ninterface NotePreviewProps {\n    id: string;\n    markdown: string,\n    name: string,\n    color: Color,\n    favorite: boolean,\n    deleteClicked: (id: string) => void;\n    editClicked: (id: string) => void;\n    favoriteClicked: (id: string) => void;\n}\n\nexport class NotePreview extends React.Component<NotePreviewProps> {\n    edit(ev: React.MouseEvent) {\n        ev.preventDefault();\n        ev.stopPropagation();\n        this.props.editClicked(this.props.id);\n    }\n\n    delete(ev: React.MouseEvent) {\n        ev.preventDefault();\n        ev.stopPropagation();\n        this.props.deleteClicked(this.props.id);\n    }\n\n    favorite(ev: React.MouseEvent) {\n        ev.preventDefault();\n        ev.stopPropagation();\n        this.props.favoriteClicked(this.props.id);\n    }\n\n    render() {\n        return (\n            <div className={`preview ${colorClass(this.props.color)}`}>\n                <div className=\"title\">\n                    {this.props.name}\n                    <span className=\"favorite\" onClick={ev => this.favorite(ev)}>\n                        <FontAwesomeIcon icon={this.props.favorite ? faStar : (faStarOutline as any)} />\n                    </span>\n                    <span className=\"delete\" onClick={ev => this.delete(ev)}>\n                        <FontAwesomeIcon icon={faTrash}/>\n                    </span>\n                    <span className=\"edit-preview\" onClick={ev => this.edit(ev)}>\n                        <FontAwesomeIcon icon={faEdit}/>\n                    </span>\n                </div>\n                <MarkDownWrap\n                    value={this.props.markdown}\n                    onChange={() => {}}/>\n            </div>\n        );\n    }\n}","import * as React from 'react';\nimport { Note, NewNote, NoteType } from '../../util/types';\nimport { Route } from 'react-router-dom';\nimport { NotePreview } from '../note-preview/NotePreview';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus, faCheckSquare, faUser, faSignOutAlt, faSpinner } from '@fortawesome/free-solid-svg-icons';\n\nimport './style.css';\nimport { loginService } from '../../network/login.service';\nimport { noteService } from '../../util/note';\nimport { Tab } from 'react-mde/lib/definitions/types/Tab';\n\ninterface HomeState {\n    notes: Note[];\n    choosing: boolean;\n    loggedIn: boolean;\n    updating: boolean;\n}\n\nexport class Home extends React.Component<{}, HomeState> {\n    constructor(props: any, context: any) {\n        super(props, context);\n\n        this.state = {\n            notes: [],\n            choosing: false,\n            loggedIn: false,\n            updating: true\n        };\n    }\n\n    componentDidMount(){\n        this.setState({\n            notes: noteService.getEntitiesLocal(),\n            loggedIn: loginService.loggedIn(),\n            updating: true\n        });\n\n        noteService.getEntities().then(notes => {\n            console.log(\"Updated!\");\n            this.setState({\n                notes,\n                updating: false\n            });\n        });\n    }\n\n    async newNote(history: any, type: NoteType = 'empty') {\n        this.setState({updating: true});\n        const note: NewNote = {\n            name: 'New Note',\n            markdown: type === 'empty' ? '' : '- [ ] ',\n            color: 'white',\n            favorite: false,\n        }\n\n        const id = await noteService.createEntity(note);\n\n        this.setState({updating: false});\n\n        history.push(`/note/${id}?tab=write`);\n    }\n\n    toNote(id: string, history: any, tab: Tab = 'preview') {\n        history.push(`/note/${id}?tab=${tab}`);\n    }\n\n    async deleteNote(id: string) {\n        this.setState({updating: true});\n        const notes = await noteService.deleteEntity(id);\n\n        this.setState({\n            notes: notes,\n            updating: false\n        });\n    }\n\n    async favoriteNote(id: string) {\n        const note = noteService.getEntity(id);\n        if (note) {\n            note.favorite = !note.favorite;\n\n            this.setState({updating: true});\n\n            await noteService.updateEntity(note);\n\n            this.setState({\n                notes: noteService.getEntitiesLocal(),\n                updating: false\n            });\n        }\n    }\n\n    login(history: any) {\n        history.push(`/login/`)\n    }\n\n    logout() {\n        loginService.logout();\n        this.setState({\n            loggedIn: loginService.loggedIn()\n        });\n    }\n\n    render() {\n        const sortedNotes = this.state.notes.sort((a, b) => {\n            if (a.favorite) {\n                return -1;\n            } else if (b.favorite) {\n                return 1;\n            }\n            return new Date(a.timestamp) > new Date(b.timestamp) ? -1 : 1;\n        });\n        const filteredNotes = sortedNotes.filter(x => !x.deleted);\n\n        return <Route render={({ history }) => (\n            <div className=\"home\">\n                <table className=\"home\">\n                    <tbody>\n                        <tr className=\"actions\">\n                            <td className=\"actions\">\n                                <button className=\"pure-button mr-2\" onClick={() => this.newNote(history)}>\n                                    <FontAwesomeIcon icon={faPlus}/>\n                                </button>\n                                <button className=\"pure-button\" onClick={() => this.newNote(history, 'checklist')}>\n                                    <FontAwesomeIcon icon={faCheckSquare}/>\n                                </button>\n                                {this.state.updating ? (\n                                    <div className=\"loading-spinner\"><FontAwesomeIcon icon={faSpinner} size=\"2x\" className=\"loading-spinner-icon\"/></div>\n                                    ) : (\n                                    <></>\n                                    )\n                                }\n                                {!this.state.loggedIn ? (\n                                    <button className=\"pure-button login\" onClick={() => this.login(history)}>\n                                        <FontAwesomeIcon icon={faUser}/>\n                                    </button>\n                                    ) : (\n                                    <button className=\"pure-button logout\" onClick={() => this.logout()}>\n                                        <FontAwesomeIcon icon={faSignOutAlt}/>\n                                    </button>\n                                    )\n                                }\n                            </td>\n                        </tr>\n                        {filteredNotes.map(note => {\n                            return <tr className=\"note\" key={note.id}>\n                                <td className=\"note\" onClick={() => this.toNote(note.id, history)}>\n                                    <NotePreview {...note}\n                                        deleteClicked={id => this.deleteNote(id)}\n                                        editClicked={id => this.toNote(id, history, 'write')}\n                                        favoriteClicked={id => this.favoriteNote(id)}/>\n                                </td>\n                            </tr>\n                        })}\n                    </tbody>\n                </table>\n            </div>\n        )} />;\n    }\n}","import * as React from 'react';\nimport { Route } from 'react-router-dom';\n\nimport './style.css';\nimport { loginService } from '../../network/login.service';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nimport {  faArrowLeft } from '@fortawesome/free-solid-svg-icons';\n\ninterface LoginState {\n    error?: string;\n    register: boolean;\n}\n\nexport class Login extends React.Component<{}, LoginState> {\n    constructor(props: any, context: any) {\n        super(props, context);\n\n        this.state = {\n            register: false\n        };\n    }\n\n    login(history: any, ev: React.FormEvent) {\n        ev.preventDefault();\n        ev.stopPropagation();\n\n        const email = (ev.target as any)[1].value;\n        const pw = (ev.target as any)[2].value;\n\n        if (this.state.register) {\n            const pwr = (ev.target as any)[3].value;\n\n            if (pw === pwr) {\n                loginService.register(email, pw).then(token => {\n                    if (token !== undefined) {\n                        history.push(`/`);\n                    } else {\n                        this.setState({\n                            error: 'Could not log in'\n                        });\n                    }\n                });\n            } else {\n                this.setState({\n                    error: 'Passwords do not match'\n                });\n            }\n        } else {\n            loginService.login(email, pw).then(token => {\n                if (token !== undefined) {\n                    history.push(`/`);\n                } else {\n                    this.setState({\n                        error: 'Could not log in'\n                    });\n                }\n            });\n        }\n    }\n\n    toggleRegister() {\n        this.setState({\n            register: !this.state.register\n        });\n    }\n\n    render() {\n        return <Route render={({ history }) => (\n            <div className=\"login\">\n                <button className=\"pure-button\" onClick={() => history.goBack()}>\n                    <FontAwesomeIcon icon={faArrowLeft}/>\n                </button>\n                <form className=\"pure-form\"\n                        onSubmit={ev => this.login(history, ev)}>\n                    <fieldset>\n                        <legend>Login</legend>\n\n                        <input type=\"username\" placeholder=\"Username\"/>\n                        <input type=\"password\" placeholder=\"Password\"/>\n                        {this.state.register ?\n                            <input type=\"password\" placeholder=\"Repeat Password\"/> :\n                            <span></span>\n                        }\n\n                        <button type=\"submit\" className=\"pure-button pure-button-primary\">\n                            {this.state.register ? 'Register' : 'Sign in'}\n                        </button>\n\n                        {/*<a onClick={() => this.toggleRegister()}\n                            className=\"ml-1\">\n                            {this.state.register ? 'Sign in' : 'Register'}\n                        </a>*/}\n\n                        {this.state.error ? this.state.error : ''}\n                    </fieldset>\n                </form>\n            </div>\n        )} />;\n    }\n}","import React from 'react';\nimport { NoteComponent } from './components/note/Note';\n\nimport 'purecss/build/base-min.css';\nimport 'purecss/build/buttons-min.css';\nimport 'purecss/build/grids-responsive-min.css';\n\nimport './App.css';\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport { Home } from './components/home/Home';\nimport { Login } from './components/login/Login';\n\nfunction App() {\n\n  return (\n    <div className=\"container\">\n      <div className=\"pure-g center\">\n        <div className=\"pure-u-1 pure-u-md-1-5\">\n        </div>\n        <div className=\"pure-u-1 pure-u-md-3-5\">\n          <Router basename={process.env.PUBLIC_URL}>\n            <Switch>\n              <Route path=\"/note/:noteId\" component={NoteComponent}>\n              </Route>\n              <Route path=\"/login/\">\n                <Login />\n              </Route>\n              <Route path=\"/\">\n                <Home />\n              </Route>\n            </Switch>\n          </Router>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}